import{S as T,o as B,k as C,s as o,m as H,q as _,r as E,U as l,t as N,v as K,w as M,x as U,y as Y,b as F,h,z as L,E as j,H as z,A as Z,B as G,C as O,D as S,d as P,F as A,g as q}from"./runtime.CVsrO6HM.js";function b(s,g=null,m){if(typeof s!="object"||s===null||T in s)return s;const d=U(s);if(d!==B&&d!==C)return s;var n=new Map,u=Y(s),c=o(0);u&&n.set("length",o(s.length));var y;return new Proxy(s,{defineProperty(a,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&H();var f=n.get(e);return f===void 0?(f=o(t.value),n.set(e,f)):_(f,b(t.value,y)),!0},deleteProperty(a,e){var t=n.get(e);if(t===void 0)e in a&&n.set(e,o(l));else{if(u&&typeof e=="string"){var f=n.get("length"),r=Number(e);Number.isInteger(r)&&r<f.v&&_(f,r)}_(t,l),k(c)}return!0},get(a,e,t){var v;if(e===T)return s;var f=n.get(e),r=e in a;if(f===void 0&&(!r||(v=E(a,e))!=null&&v.writable)&&(f=o(b(r?a[e]:l,y)),n.set(e,f)),f!==void 0){var i=N(f);return i===l?void 0:i}return Reflect.get(a,e,t)},getOwnPropertyDescriptor(a,e){var t=Reflect.getOwnPropertyDescriptor(a,e);if(t&&"value"in t){var f=n.get(e);f&&(t.value=N(f))}else if(t===void 0){var r=n.get(e),i=r==null?void 0:r.v;if(r!==void 0&&i!==l)return{enumerable:!0,configurable:!0,value:i,writable:!0}}return t},has(a,e){var i;if(e===T)return!0;var t=n.get(e),f=t!==void 0&&t.v!==l||Reflect.has(a,e);if(t!==void 0||K!==null&&(!f||(i=E(a,e))!=null&&i.writable)){t===void 0&&(t=o(f?b(a[e],y):l),n.set(e,t));var r=N(t);if(r===l)return!1}return f},set(a,e,t,f){var D;var r=n.get(e),i=e in a;if(u&&e==="length")for(var v=t;v<r.v;v+=1){var w=n.get(v+"");w!==void 0?_(w,l):v in a&&(w=o(l),n.set(v+"",w))}r===void 0?(!i||(D=E(a,e))!=null&&D.writable)&&(r=o(void 0),_(r,b(t,y)),n.set(e,r)):(i=r.v!==l,_(r,b(t,y)));var x=Reflect.getOwnPropertyDescriptor(a,e);if(x!=null&&x.set&&x.set.call(f,t),!i){if(u&&typeof e=="string"){var I=n.get("length"),R=Number(e);Number.isInteger(R)&&R>=I.v&&_(I,R+1)}k(c)}return!0},ownKeys(a){N(c);var e=Reflect.ownKeys(a).filter(r=>{var i=n.get(r);return i===void 0||i.v!==l});for(var[t,f]of n)f.v!==l&&!(t in a)&&e.push(t);return e},setPrototypeOf(){M()}})}function k(s,g=1){_(s,s.v+g)}function Q(s,g,m=!1){h&&L();var d=s,n=null,u=null,c=l,y=m?j:0,a=!1;const e=(f,r=!0)=>{a=!0,t(r,f)},t=(f,r)=>{if(c===(c=f))return;let i=!1;if(h){const v=d.data===z;!!c===v&&(d=Z(),G(d),O(!1),i=!0)}c?(n?S(n):r&&(n=P(()=>r(d))),u&&A(u,()=>{u=null})):(u?S(u):r&&(u=P(()=>r(d))),n&&A(n,()=>{n=null})),i&&O(!0)};F(()=>{a=!1,g(e),a||t(null,null)},y),h&&(d=q)}function V(s,g,m){h&&L();var d=s,n,u;F(()=>{n!==(n=g())&&(u&&(A(u),u=null),n&&(u=P(()=>m(d,n))))},j),h&&(d=q)}export{V as c,Q as i,b as p};
